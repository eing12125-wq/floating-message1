<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Merry Christmas & Happy New Year</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Mountains+of+Christmas&display=swap');

body {
  margin: 0;
  font-family: 'Mountains of Christmas', cursive, Arial, sans-serif;
  background: linear-gradient(135deg, #8b0000, #b22222, #ff6347);
  overflow: hidden;
  color: white;
  position: relative;
}

/* ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡πÉ‡∏´‡∏ç‡πà */
#header {
  position: fixed;
  top: 20px;
  width: 100%;
  text-align: center;
  font-size: 4rem;
  font-weight: 700;
  text-shadow: 0 0 12px #ff0000, 0 0 25px #ffa07a;
  letter-spacing: 3px;
  z-index: 1000;
  user-select: none;
}

/* ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏≠‡∏¢ */
#scene {
  position: relative;
  width: 100vw;
  height: 100vh;
}

.message {
  position: absolute;
  padding: 0.6em 1em;
  background: rgba(255,240,240,0.9);
  border-radius: 30px;
  white-space: nowrap;
  animation: float 18s linear infinite;
  box-shadow: 0 4px 12px rgba(139,0,0,0.5);
  font-size: clamp(14px, 4vw, 20px); /* responsive */
  color: #550000;
}

@keyframes float {
  from { transform: translateX(110vw); }
  to { transform: translateX(-120%); }
}

/* ‡πÅ‡∏ñ‡∏ö input */
#control {
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(255,240,240,0.95);
  padding: 1em;
  border-radius: 1.5em;
  display: flex;
  gap: 0.5em;
  align-items: center;
  flex-wrap: wrap;
  z-index: 1000;
}

input {
  flex: 1 1 150px;
  padding: 0.8em 1em;
  font-size: 1em;
  border: 2px solid #b22222;
  border-radius: 1em;
  outline: none;
}

input:focus {
  box-shadow: 0 0 8px 3px #ff6347;
}

button {
  padding: 0.8em 1em;
  font-size: 1em;
  flex: 0 0 auto;
  border-radius: 1em;
  cursor: pointer;
  background: linear-gradient(45deg, #ff0000, #b22222);
  color: white;
  border: none;
}
button:hover {
  background: linear-gradient(45deg, #ff6347, #ff4500);
}

/* ‡∏î‡∏≤‡∏ß */
.star {
  position: fixed;
  background: white;
  border-radius: 50%;
  opacity: 0.8;
  animation: twinkle 2s infinite alternate;
  pointer-events: none;
}

@keyframes twinkle {
  from {opacity: 0.8;}
  to {opacity: 0.2;}
}

/* ‡∏´‡∏¥‡∏°‡∏∞ */
.snowflake {
  position: fixed;
  top: -10px;
  background: white;
  border-radius: 50%;
  opacity: 0.8;
  filter: drop-shadow(0 0 2px white);
  animation-name: fall;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  pointer-events: none;
}

@keyframes fall {
  0% { transform: translateY(-10px) translateX(0);}
  100% { transform: translateY(110vh) translateX(50px);}
}

/* ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç */
.gift {
  position: fixed;
  width: 30px;
  height: 30px;
  background: red;
  border: 2px solid yellow;
  border-radius: 6px;
  animation-name: fall;
  animation-duration: 10s;
  animation-iteration-count: infinite;
  pointer-events: none;
}

/* ‡∏õ‡∏£‡∏±‡∏ö‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ */
@media screen and (max-width: 600px) {
  #header {
    font-size: 2.5rem;
  }
}
</style>
</head>
<body>

<div id="header">üéÑ Merry Christmas & Happy New Year üéâ</div>
<div id="scene"></div>

<div id="control">
  <input id="textInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì" maxlength="40">
  <button onclick="addMessage()">‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</button>
</div>

<script type="module">
// Import Firebase
import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
import { getDatabase, ref, push, onChildAdded } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-database.js';

// Firebase Configuration (‡πÉ‡∏ä‡πâ config ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á - ‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏ß‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ó‡∏µ‡πà firebase.google.com)
const firebaseConfig = {
  apiKey: "AIzaSyDemoKey123456789",
  authDomain: "demo-project.firebaseapp.com",
  databaseURL: "https://demo-project-default-rtdb.firebaseio.com",
  projectId: "demo-project",
  storageBucket: "demo-project.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123def456"
};

// Initialize Firebase
const app = initializeApp(firebaseConfig);
const database = getDatabase(app);
const messagesRef = ref(database, 'messages');

// ‡∏Ñ‡∏≥‡∏´‡∏¢‡∏≤‡∏ö
const bannedWords = ['hee','kuy','tad','yed','hum'];

function filterBadWords(text) {
  let filtered = text;
  bannedWords.forEach(word => {
    const re = new RegExp(word, 'gi');
    filtered = filtered.replace(re, '***');
  });
  return filtered;
}

// ‡∏ü‡∏±‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà‡∏à‡∏≤‡∏Å Firebase (Real-time)
const displayedMessages = new Set();
onChildAdded(messagesRef, (snapshot) => {
  const messageId = snapshot.key;
  if (!displayedMessages.has(messageId)) {
    const msg = snapshot.val().text;
    addMessageToScene(msg);
    displayedMessages.add(messageId);
  }
});

// ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà
window.addMessage = function() {
  const input = document.getElementById("textInput");
  let msg = input.value.trim();
  if (!msg) return;

  msg = filterBadWords(msg);
  
  // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á Firebase
  push(messagesRef, {
    text: msg,
    timestamp: Date.now()
  });

  input.value = "";
}

// ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏•‡∏á scene
function addMessageToScene(msg) {
  const div = document.createElement("div");
  div.className = "message";
  div.textContent = msg;
  div.style.top = Math.random() * 80 + "vh";
  div.style.animationDuration = (12 + Math.random() * 12) + "s";
  document.getElementById("scene").appendChild(div);
}

// ‡∏î‡∏≤‡∏ß, ‡∏´‡∏¥‡∏°‡∏∞, ‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç
function createStars(count = 30) {
  for (let i = 0; i < count; i++) {
    const star = document.createElement('div');
    star.className = 'star';
    star.style.width = star.style.height = (Math.random() * 3 + 1) + 'px';
    star.style.top = Math.random() * window.innerHeight + 'px';
    star.style.left = Math.random() * window.innerWidth + 'px';
    star.style.animationDuration = (1 + Math.random() * 2) + 's';
    document.body.appendChild(star);
  }
}

function createSnowflakes(count = 40) {
  for (let i = 0; i < count; i++) {
    const flake = document.createElement('div');
    flake.className = 'snowflake';
    const size = Math.random() * 5 + 2;
    flake.style.width = flake.style.height = size + 'px';
    flake.style.left = Math.random() * window.innerWidth + 'px';
    flake.style.animationDuration = (5 + Math.random() * 10) + 's';
    flake.style.animationDelay = Math.random() * 10 + 's';
    document.body.appendChild(flake);
  }
}

function createGifts(count = 10) {
  for (let i = 0; i < count; i++) {
    const gift = document.createElement('div');
    gift.className = 'gift';
    gift.style.left = Math.random() * window.innerWidth + 'px';
    gift.style.animationDuration = (8 + Math.random() * 8) + 's';
    gift.style.animationDelay = Math.random() * 10 + 's';
    document.body.appendChild(gift);
  }
}

// ‡πÇ‡∏´‡∏•‡∏î‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ï‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö
window.onload = function() {
  createStars();
  createSnowflakes();
  createGifts();
};
</script>

</body>
</html>




